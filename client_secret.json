# File: get_token.py
from google_auth_oauthlib.flow import InstalledAppFlow

# Quyền truy cập Drive
SCOPES = ['https://www.googleapis.com/auth/drive']

def get_refresh_token():
    # Đảm bảo bạn đã tải file client_secret.json từ Google Cloud về
    flow = InstalledAppFlow.from_client_secrets_file(
        'client_secret.json', SCOPES)
    
    # Dòng này sẽ mở trình duyệt để bạn đăng nhập
    creds = flow.run_local_server(port=0)
    
    print("\n" + "="*50)
    print("ĐÂY LÀ REFRESH TOKEN CỦA BẠN (COPY DÒNG DƯỚI):")
    print(creds.refresh_token)
    print("="*50)

if __name__ == '__main__':
    get_refresh_token()
